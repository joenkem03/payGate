{"ast":null,"code":"import _classCallCheck from \"C:/Users/syntoid/Documents/me/bare/g/Gust%20V2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/syntoid/Documents/me/bare/g/Gust%20V2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { FormBuilder, Validators } from \"@angular/forms\";\nimport { Router } from \"@angular/router\";\nimport { ApiService } from \"../core/api.service\";\nimport { PasswordStrengthValidator } from \"../password.strength.validators\";\nimport { LogicReuseable } from \"../core/logic.reuseable\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../core/api.service\";\nimport * as i4 from \"../core/logic.reuseable\";\nimport * as i5 from \"@angular/common\";\n\nfunction SignupComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵtext(1, \"Business or Application name is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SignupComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵtext(1, \"Email address is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SignupComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \"Email must be a valid email address\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SignupComponent_div_37_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \"Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SignupComponent_div_37_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r7.signupForm.controls[\"password\"].errors[\"passwordStrength\"]);\n  }\n}\n\nfunction SignupComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵtemplate(1, SignupComponent_div_37_div_1_Template, 2, 0, \"div\", 25);\n    i0.ɵɵtemplate(2, SignupComponent_div_37_div_2_Template, 2, 1, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.signupForm.controls[\"password\"].hasError(\"required\") && ctx_r3.signupForm.controls[\"password\"].touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.signupForm.controls[\"password\"].hasError(\"passwordStrength\"));\n  }\n}\n\nfunction SignupComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵtext(1, \"Password mismatch!. Check and retry\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SignupComponent_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.errorMessage);\n  }\n}\n\nexport var SignupComponent = /*#__PURE__*/(function () {\n  var SignupComponent = /*#__PURE__*/function () {\n    function SignupComponent(formBuilder, router, apiService, logic) {\n      _classCallCheck(this, SignupComponent);\n\n      this.formBuilder = formBuilder;\n      this.router = router;\n      this.apiService = apiService;\n      this.logic = logic;\n      this.invalidSignup = false; // console.log(window.localStorage.getItem('identificationNumber'));\n    }\n\n    _createClass(SignupComponent, [{\n      key: \"onSubmit\",\n      value: function onSubmit() {\n        var _this = this;\n\n        this.loading = true;\n        this.invalidSignup = false;\n\n        if (this.signupForm.invalid) {\n          return;\n        } // check if phone number and nOKphone number's are the same\n\n\n        if (this.signupForm.controls.password.value != this.signupForm.controls.confirmPassword.value) {\n          this.invalidSignup = true;\n          this.loading = false;\n          console.log(\"Password mismatch!. Check and retry\");\n          this.errorMessage = \"Password mismatch!. Check and retry\"; // alert(\"Password mismatch!. Check and retry\");\n\n          return;\n        }\n\n        if (this.signupForm.controls.termsAndConditions.value == false) {\n          this.logic.getErrorNotification(\"You must accept our terms and conditions to continue\");\n          return;\n        }\n\n        var signupPayload = {\n          // \"FirstName\": this.signupForm.controls.firstName.value,\n          // \"LastName\": this.signupForm.controls.lastName.value,\n          \"BusinessName\": this.signupForm.controls.applicationName.value,\n          // \"PhoneNumber\": this.signupForm.controls.phoneNumber.value,\n          \"Email\": this.signupForm.controls.emailAddress.value,\n          \"Password\": this.signupForm.controls.password.value,\n          \"ConfirmPassword\": this.signupForm.controls.confirmPassword.value\n        }; // const emailPayload = {\n        // \t\"Phone\": \"\",\n        // \t\"Email\": this.signupForm.controls.emailAddress.value,\n        // \t\"SenderEmail\": \"admin@ercasng.com\",\n        // \t\"From\": \"GUST\",\n        // \t\"Message\": \"Thanks for registering on GUST\"\n        // }\n\n        var Form = JSON.stringify(signupPayload);\n        this.apiService.signup(Form).subscribe(function (data) {\n          // debugger;\n          if (data.response == 1) {\n            var username = _this.signupForm.controls.emailAddress.value;\n            var password = _this.signupForm.controls.password.value;\n\n            _this.apiService.login(username, password).subscribe(function (logindata) {\n              window.localStorage.setItem(\"username\", _this.signupForm.controls.emailAddress.value);\n              window.localStorage.setItem(\"accessToken\", logindata.access_token);\n              _this.loading = false;\n\n              if (logindata.access_token) {\n                _this.logic.getMerchantUserDetails();\n\n                _this.router.navigate(['getting-started']);\n              } else {\n                _this.router.navigate(['login']);\n              }\n            });\n          } else {\n            _this.invalidSignup = true;\n            _this.loading = false;\n            _this.errorMessage = \"Something went wrong. Retry!\"; // data.message;\n          }\n        }, function (error) {\n          _this.invalidSignup = true;\n          _this.errorMessage = \"Something went wrong. Retry\";\n          _this.loading = false;\n        });\n      }\n    }, {\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var body = document.getElementsByTagName('body')[0];\n        body.classList.add('1-column');\n        body.classList.add('bg-full-screen-image');\n        body.classList.add('blank-page');\n        body.classList.add('blank-page');\n        this.signupForm = this.formBuilder.group({\n          // firstName: ['', Validators.required],\n          // lastName: ['', Validators.required],\n          // phoneNumber: ['', Validators.required],\n          applicationName: ['', Validators.required],\n          emailAddress: ['', [Validators.required, Validators.email]],\n          password: ['', [Validators.required, PasswordStrengthValidator]],\n          confirmPassword: ['', Validators.required],\n          termsAndConditions: [false, Validators.requiredTrue]\n        });\n      }\n    }, {\n      key: \"ngOnDestroy\",\n      value: function ngOnDestroy() {\n        var body = document.getElementsByTagName('body')[0];\n        body.classList.remove('1-column');\n        body.classList.remove('bg-full-screen-image');\n        body.classList.remove('blank-page');\n        body.classList.remove('blank-page');\n      }\n    }]);\n\n    return SignupComponent;\n  }();\n\n  SignupComponent.ɵfac = function SignupComponent_Factory(t) {\n    return new (t || SignupComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ApiService), i0.ɵɵdirectiveInject(i4.LogicReuseable));\n  };\n\n  SignupComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SignupComponent,\n    selectors: [[\"app-signup\"]],\n    decls: 62,\n    vars: 9,\n    consts: [[1, \"app-content\", \"content\"], [1, \"content-wrapper\"], [1, \"content-header\", \"row\"], [1, \"content-body\"], [1, \"row\", \"flexbox-container\"], [1, \"col-xl-12\", \"col-10\", \"d-flex\", \"justify-content-center\"], [1, \"card\", \"bg-authentication\", \"rounded-0\", \"mb-0\"], [1, \"row\", \"m-0\"], [1, \"col-lg-6\", \"d-lg-block\", \"d-none\", \"text-center\", \"align-self-center\", \"pl-0\", \"pr-3\", \"py-0\"], [\"src\", \"../../assets/images/pages/register.jpg\", \"alt\", \"branding logo\"], [1, \"col-lg-6\", \"col-12\", \"p-0\"], [1, \"card\", \"rounded-0\", \"mb-0\", \"p-2\"], [1, \"card-header\", \"pt-50\", \"pb-1\"], [1, \"card-title\"], [1, \"mb-0\"], [1, \"px-2\"], [1, \"card-content\"], [1, \"card-body\", \"pt-0\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-label-group\"], [\"type\", \"text\", \"formControlName\", \"applicationName\", \"id\", \"applicationName\", \"placeholder\", \"Business/Application name\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"applicationName\"], [\"class\", \"error\", 4, \"ngIf\"], [\"type\", \"email\", \"formControlName\", \"emailAddress\", \"id\", \"emailAddress\", \"placeholder\", \"username@demo.com\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"emailAddress\"], [\"class\", \"error error-text\", 4, \"ngIf\"], [\"type\", \"password\", \"formControlName\", \"password\", \"id\", \"password\", \"placeholder\", \"Password\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"password\"], [\"type\", \"password\", \"formControlName\", \"confirmPassword\", \"id\", \"confirmPassword\", \"placeholder\", \"Confirm Password\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"confirmPassword\"], [1, \"form-group\", \"row\"], [1, \"col-12\"], [1, \"checkbox\"], [1, \"vs-checkbox-con\", \"vs-checkbox-primary\"], [\"type\", \"checkbox\", \"checked\", \"\", \"required\", \"\", \"formControlName\", \"termsAndConditions\", \"id\", \"termsAndConditions\"], [1, \"vs-checkbox\"], [1, \"vs-checkbox--check\"], [1, \"vs-icon\", \"feather\", \"icon-check\"], [1, \"\"], [\"type\", \"submit\", \"id\", \"buttonSignup\", \"value\", \"Submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"mb-50\", 3, \"disabled\"], [\"class\", \"error signup-error\", 4, \"ngIf\"], [1, \"login-footer\"], [1, \"divider\"], [1, \"divider-text\"], [\"href\", \"#/login\", 1, \"btn\", \"btn-outline-primary\", \"btn-block\", \"reg\"], [1, \"error\"], [1, \"error\", \"error-text\"], [1, \"error\", \"signup-error\"]],\n    template: function SignupComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelement(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"section\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵelementStart(6, \"div\", 6);\n        i0.ɵɵelementStart(7, \"div\", 7);\n        i0.ɵɵelementStart(8, \"div\", 8);\n        i0.ɵɵelement(9, \"img\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 10);\n        i0.ɵɵelementStart(11, \"div\", 11);\n        i0.ɵɵelementStart(12, \"div\", 12);\n        i0.ɵɵelementStart(13, \"div\", 13);\n        i0.ɵɵelementStart(14, \"h4\", 14);\n        i0.ɵɵtext(15, \"Create Account\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"p\", 15);\n        i0.ɵɵtext(17, \"Fill the below form to create a new account.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"br\");\n        i0.ɵɵelementStart(19, \"div\", 16);\n        i0.ɵɵelementStart(20, \"div\", 17);\n        i0.ɵɵelementStart(21, \"form\", 18);\n        i0.ɵɵlistener(\"ngSubmit\", function SignupComponent_Template_form_ngSubmit_21_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(22, \"div\", 19);\n        i0.ɵɵelement(23, \"input\", 20);\n        i0.ɵɵelementStart(24, \"label\", 21);\n        i0.ɵɵtext(25, \"Business or Application Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(26, SignupComponent_div_26_Template, 2, 0, \"div\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 19);\n        i0.ɵɵelement(28, \"input\", 23);\n        i0.ɵɵelementStart(29, \"label\", 24);\n        i0.ɵɵtext(30, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(31, SignupComponent_div_31_Template, 2, 0, \"div\", 22);\n        i0.ɵɵtemplate(32, SignupComponent_div_32_Template, 2, 0, \"div\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 19);\n        i0.ɵɵelement(34, \"input\", 26);\n        i0.ɵɵelementStart(35, \"label\", 27);\n        i0.ɵɵtext(36, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(37, SignupComponent_div_37_Template, 3, 2, \"div\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"div\", 19);\n        i0.ɵɵelement(39, \"input\", 28);\n        i0.ɵɵelementStart(40, \"label\", 29);\n        i0.ɵɵtext(41, \"Confirm Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(42, SignupComponent_div_42_Template, 2, 0, \"div\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"div\", 30);\n        i0.ɵɵelementStart(44, \"div\", 31);\n        i0.ɵɵelementStart(45, \"fieldset\", 32);\n        i0.ɵɵelementStart(46, \"div\", 33);\n        i0.ɵɵelement(47, \"input\", 34);\n        i0.ɵɵelementStart(48, \"span\", 35);\n        i0.ɵɵelementStart(49, \"span\", 36);\n        i0.ɵɵelement(50, \"i\", 37);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"span\", 38);\n        i0.ɵɵtext(52, \" I accept the terms & conditions.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"button\", 39);\n        i0.ɵɵtext(54);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(55, SignupComponent_div_55_Template, 3, 1, \"div\", 40);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"div\", 41);\n        i0.ɵɵelementStart(57, \"div\", 42);\n        i0.ɵɵelementStart(58, \"div\", 43);\n        i0.ɵɵtext(59, \"OR\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"a\", 44);\n        i0.ɵɵtext(61, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(21);\n        i0.ɵɵproperty(\"formGroup\", ctx.signupForm);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.signupForm.controls[\"applicationName\"].hasError(\"required\") && ctx.signupForm.controls[\"applicationName\"].touched);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.signupForm.controls[\"emailAddress\"].hasError(\"required\") && ctx.signupForm.controls[\"emailAddress\"].touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.signupForm.controls[\"emailAddress\"].hasError(\"email\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.signupForm.controls[\"password\"].invalid && (ctx.signupForm.controls[\"password\"].touched || ctx.signupForm.controls[\"password\"].dirty));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.signupForm.controls[\"password\"].value != ctx.signupForm.controls[\"confirmPassword\"].value);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"disabled\", ctx.signupForm.invalid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Loading, please wait...\" : \"Register\", \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.invalidSignup);\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i5.NgIf, i1.CheckboxRequiredValidator, i1.CheckboxControlValueAccessor],\n    styles: [\".signup-error[_ngcontent-%COMP%]{background-color:red;color:#fff;padding:10px;margin-top:7px;margin-left:5px;margin-right:-5px;text-align:center}.signupfooter[_ngcontent-%COMP%]{padding-bottom:7px;margin-bottom:7px}.error-text[_ngcontent-%COMP%]{color:red;font-weight:bold}.card-body[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:0}.card-content[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:0}.margin-0[_ngcontent-%COMP%]{margin:0}.padding-0[_ngcontent-%COMP%]{padding:0}.padding-top[_ngcontent-%COMP%]{padding:7px}.padding-bottom-7[_ngcontent-%COMP%]{padding:7px}input[_ngcontent-%COMP%]{padding:25px}button[_ngcontent-%COMP%]{font-weight:bold;margin-left:3px;padding:18px}.form-control-position[_ngcontent-%COMP%]{padding-top:8px}.select[_ngcontent-%COMP%]{padding-top:0}.reg[_ngcontent-%COMP%]{font-weight:bold;margin-left:3px;padding:18px}\"]\n  });\n  return SignupComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}