{"ast":null,"code":"import _classCallCheck from \"C:/Users/syntoid/Documents/me/bare/g/Gust%20V2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/syntoid/Documents/me/bare/g/Gust%20V2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { FormBuilder, Validators } from \"@angular/forms\";\nimport { Router } from \"@angular/router\";\nimport { ApiService } from \"../core/api.service\";\nimport { ToastrService } from \"ngx-toastr\";\nimport { LogicReuseable } from '../core/logic.reuseable';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../core/api.service\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"../core/logic.reuseable\";\nimport * as i6 from \"../navigation-menu/navigation-menu.component\";\nimport * as i7 from \"../navigation-header/navigation-header.component\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"../navigation-footer/navigation-footer.component\";\n\nfunction ApiWebhookDetailsComponent_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \"Success URL is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ApiWebhookDetailsComponent_div_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \"Failure URL is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport var ApiWebhookDetailsComponent = /*#__PURE__*/(function () {\n  var ApiWebhookDetailsComponent = /*#__PURE__*/function () {\n    function ApiWebhookDetailsComponent(formBuilder, router, apiService, toastr, logic) {\n      _classCallCheck(this, ApiWebhookDetailsComponent);\n\n      this.formBuilder = formBuilder;\n      this.router = router;\n      this.apiService = apiService;\n      this.toastr = toastr;\n      this.logic = logic;\n      this.invalidEntry = false;\n\n      if (this.logic.getIsLive() == false) {\n        this.apiCategory = \"Demo\";\n        this.apiKeyCategory = \"Demo API Key\";\n        this.authKeyCategory = \"Demo Authentication Key\";\n        this.apiKeyMessage = \"The Demo API key can only be used for test transactions and should not be exposed. Your Live Key will be provided as soon as you activate your account and switch to live\";\n        this.authKeyMessage = \"The Demo Authentication key can only be used for test transactions and should not be exposed. Your Live Key will be provided as soon as you activate your account and switch to live\";\n      } else {\n        this.apiCategory = \"Live\";\n        this.apiKeyCategory = \"Live API Key\";\n        this.authKeyCategory = \"Live Authentication Key\";\n        this.apiKeyMessage = \"The Live API key can only be used for live transactions. Please do not expose it. We will disable it if for any reason you switch back to demo\";\n        this.authKeyMessage = \"The Live authentication key can only be used for live transactions. Please do not expose it. We will disable it if for any reason you switch back to demo\";\n      }\n    }\n\n    _createClass(ApiWebhookDetailsComponent, [{\n      key: \"onCopyApiKey\",\n      value: function onCopyApiKey(userinput) {\n        if (this.logic.copyInputMessage(userinput) == true) {\n          this.logic.getSuccessNotification(this.apiKeyCategory + \" successfully copied to clipboard\");\n        } else {\n          this.logic.getSuccessNotification(\"Error copying \" + this.apiKeyCategory + \" to clipboard\");\n        }\n      }\n    }, {\n      key: \"onCopyAuthKey\",\n      value: function onCopyAuthKey(userinput) {\n        if (this.logic.copyInputMessage(userinput) == true) {\n          this.logic.getSuccessNotification(this.authKeyCategory + \" successfully copied to clipboard\");\n        } else {\n          this.logic.getSuccessNotification(\"Error copying \" + this.authKeyCategory + \" to clipboard\");\n        }\n      }\n    }, {\n      key: \"onSubmitWebhook\",\n      value: function onSubmitWebhook() {\n        var _this = this;\n\n        this.loading = true;\n\n        if (this.webhookDetailsForm.invalid) {\n          return;\n        }\n\n        var webhookDetailsPayload = {\n          \"SuccessURL\": this.webhookDetailsForm.controls.successURL.value,\n          \"FailureURL\": this.webhookDetailsForm.controls.failureURL.value\n        };\n        var Form = JSON.stringify(webhookDetailsPayload);\n        this.apiService.updateWebhookDetails(Form).subscribe(function (data) {\n          // debugger;\n          if (data.status == \"true\") {\n            _this.logic.getMerchantUserDetails();\n\n            _this.logic.getSuccessNotification(data.message);\n          } else {\n            _this.invalidEntry = true;\n\n            _this.logic.getErrorNotification(\"Operation not completed. Something went wrong. Check and retry\");\n          }\n\n          _this.loading = false;\n        });\n      }\n    }, {\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        if (this.logic.getSuccessWebhook() === null) {\n          this.webhookDetailsForm = this.formBuilder.group({\n            successURL: ['', Validators.required],\n            failureURL: ['', Validators.required]\n          });\n        } else {\n          this.webhookDetailsForm = this.formBuilder.group({\n            successURL: [this.logic.getSuccessWebhook(), Validators.required],\n            failureURL: [this.logic.getFailureWebhook(), Validators.required]\n          });\n        }\n\n        if (this.logic.getIsLive() == false) {\n          this.apikeysDetailsForm = this.formBuilder.group({\n            apiKey: [this.logic.getDemoApiKey(), Validators.required],\n            authKey: [this.logic.getDemoAuthKey(), Validators.required]\n          });\n        } else {\n          this.apikeysDetailsForm = this.formBuilder.group({\n            apiKey: [this.logic.getLiveApiKey(), Validators.required],\n            authKey: [this.logic.getLiveAuthKey(), Validators.required]\n          });\n        }\n      }\n    }]);\n\n    return ApiWebhookDetailsComponent;\n  }();\n\n  ApiWebhookDetailsComponent.ɵfac = function ApiWebhookDetailsComponent_Factory(t) {\n    return new (t || ApiWebhookDetailsComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ApiService), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.LogicReuseable));\n  };\n\n  ApiWebhookDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ApiWebhookDetailsComponent,\n    selectors: [[\"app-api-webhook-details\"]],\n    decls: 85,\n    vars: 9,\n    consts: [[1, \"app-content\", \"content\"], [1, \"content-wrapper\"], [1, \"content-header\", \"row\"], [1, \"content-body\"], [\"id\", \"personal-details\"], [1, \"settings-account\"], [\"role\", \"tablist\", 1, \"nav\", \"nav-tabs\"], [1, \"nav-item\"], [\"href\", \"#/personal-details\", \"aria-controls\", \"home\", \"role\", \"tab\", \"aria-selected\", \"true\", 1, \"nav-link\"], [\"href\", \"#/business-details\", \"aria-controls\", \"profile\", \"role\", \"tab\", \"aria-selected\", \"false\", 1, \"nav-link\"], [\"href\", \"#/bank-details\", \"aria-controls\", \"bank\", \"role\", \"tab\", \"aria-selected\", \"false\", 1, \"nav-link\"], [\"href\", \"#/api/keys/webhook\", \"aria-controls\", \"bank\", \"role\", \"tab\", \"aria-selected\", \"false\", 1, \"nav-link\", \"active\"], [1, \"card\", \"user-form\"], [1, \"card-header\"], [1, \"card-title\"], [1, \"card-body\", 2, \"margin-top\", \"10px\"], [1, \"card-content\"], [1, \"form\", \"form-vertical\", \"margin-0\", 3, \"formGroup\"], [1, \"row\"], [1, \"col-md-6\", \"col-12\"], [1, \"form-group\"], [\"for\", \"api-key-vertical\"], [1, \"position-relative\"], [\"type\", \"text\", \"formControlName\", \"apiKey\", \"id\", \"apiKey\", \"required\", \"\", \"readonly\", \"\", 1, \"form-control\", \"form-control-lg\"], [\"apikeyinput\", \"\"], [3, \"click\"], [1, \"error\"], [\"for\", \"auth-key-vertical\"], [\"type\", \"text\", \"formControlName\", \"authKey\", \"id\", \"authKey\", \"required\", \"\", \"readonly\", \"\", 1, \"form-control\", \"form-control-lg\"], [\"authkeyinput\", \"\"], [1, \"form\", \"form-vertical\", \"margin-0\", 3, \"formGroup\", \"ngSubmit\"], [\"for\", \"success-url-vertical\"], [1, \"position-relative\", \"has-icon-left\"], [\"type\", \"url\", \"formControlName\", \"successURL\", \"id\", \"successURL\", \"placeholder\", \"http://\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"form-control-position\"], [1, \"feather\", \"icon-globe\"], [\"for\", \"fail-url-vertical\"], [\"type\", \"url\", \"formControlName\", \"failureURL\", \"id\", \"failureURL\", \"placeholder\", \"http://\", 1, \"form-control\"], [1, \"col-md-12\", \"col-12\", \"border-top\", \"margin-0\", \"padding-bottom-7\"], [\"type\", \"submit\", \"id\", \"buttonUpdateWebhookDetails\", \"value\", \"Save Record\", 1, \"btn\", \"btn-primary\", \"mb-50\", 3, \"disabled\"], [1, \"sidenav-overlay\"], [1, \"drag-target\"]],\n    template: function ApiWebhookDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        var _r4 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelement(0, \"app-navigation-menu\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelement(2, \"app-navigation-header\");\n        i0.ɵɵelementStart(3, \"div\", 1);\n        i0.ɵɵelement(4, \"div\", 2);\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵelementStart(6, \"section\", 4);\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵelementStart(8, \"ul\", 6);\n        i0.ɵɵelementStart(9, \"li\", 7);\n        i0.ɵɵelementStart(10, \"a\", 8);\n        i0.ɵɵtext(11, \"Profile\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"li\", 7);\n        i0.ɵɵelementStart(13, \"a\", 9);\n        i0.ɵɵtext(14, \"Business\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"li\", 7);\n        i0.ɵɵelementStart(16, \"a\", 10);\n        i0.ɵɵtext(17, \"Bank\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"li\", 7);\n        i0.ɵɵelementStart(19, \"a\", 11);\n        i0.ɵɵtext(20, \"API/Webhooks\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 12);\n        i0.ɵɵelementStart(22, \"div\", 13);\n        i0.ɵɵelementStart(23, \"h4\", 14);\n        i0.ɵɵtext(24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 15);\n        i0.ɵɵelementStart(26, \"div\");\n        i0.ɵɵelementStart(27, \"div\", 16);\n        i0.ɵɵelementStart(28, \"form\", 17);\n        i0.ɵɵelementStart(29, \"div\", 18);\n        i0.ɵɵelementStart(30, \"div\", 19);\n        i0.ɵɵelementStart(31, \"div\", 20);\n        i0.ɵɵelementStart(32, \"label\", 21);\n        i0.ɵɵtext(33, \"API Key\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 22);\n        i0.ɵɵelement(35, \"input\", 23, 24);\n        i0.ɵɵelementStart(37, \"a\", 25);\n        i0.ɵɵlistener(\"click\", function ApiWebhookDetailsComponent_Template_a_click_37_listener() {\n          i0.ɵɵrestoreView(_r4);\n\n          var _r0 = i0.ɵɵreference(36);\n\n          return ctx.onCopyApiKey(_r0);\n        });\n        i0.ɵɵtext(38, \"Copy\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\", 26);\n        i0.ɵɵtext(40);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"div\", 19);\n        i0.ɵɵelementStart(42, \"div\", 20);\n        i0.ɵɵelementStart(43, \"label\", 27);\n        i0.ɵɵtext(44, \"Authentication Key\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\", 22);\n        i0.ɵɵelement(46, \"input\", 28, 29);\n        i0.ɵɵelementStart(48, \"a\", 25);\n        i0.ɵɵlistener(\"click\", function ApiWebhookDetailsComponent_Template_a_click_48_listener() {\n          i0.ɵɵrestoreView(_r4);\n\n          var _r1 = i0.ɵɵreference(47);\n\n          return ctx.onCopyAuthKey(_r1);\n        });\n        i0.ɵɵtext(49, \"Copy\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 26);\n        i0.ɵɵtext(51);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"div\", 12);\n        i0.ɵɵelementStart(53, \"div\", 13);\n        i0.ɵɵelementStart(54, \"h4\", 14);\n        i0.ɵɵtext(55, \"Webhook Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"div\", 15);\n        i0.ɵɵelementStart(57, \"div\");\n        i0.ɵɵelementStart(58, \"div\", 16);\n        i0.ɵɵelementStart(59, \"form\", 30);\n        i0.ɵɵlistener(\"ngSubmit\", function ApiWebhookDetailsComponent_Template_form_ngSubmit_59_listener() {\n          return ctx.onSubmitWebhook();\n        });\n        i0.ɵɵelementStart(60, \"div\", 18);\n        i0.ɵɵelementStart(61, \"div\", 19);\n        i0.ɵɵelementStart(62, \"div\", 20);\n        i0.ɵɵelementStart(63, \"label\", 31);\n        i0.ɵɵtext(64, \"Success URL\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"div\", 32);\n        i0.ɵɵelement(66, \"input\", 33);\n        i0.ɵɵtemplate(67, ApiWebhookDetailsComponent_div_67_Template, 2, 0, \"div\", 34);\n        i0.ɵɵelementStart(68, \"div\", 35);\n        i0.ɵɵelement(69, \"i\", 36);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"div\", 19);\n        i0.ɵɵelementStart(71, \"div\", 20);\n        i0.ɵɵelementStart(72, \"label\", 37);\n        i0.ɵɵtext(73, \"Failure URL\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"div\", 32);\n        i0.ɵɵelement(75, \"input\", 38);\n        i0.ɵɵtemplate(76, ApiWebhookDetailsComponent_div_76_Template, 2, 0, \"div\", 34);\n        i0.ɵɵelementStart(77, \"div\", 35);\n        i0.ɵɵelement(78, \"i\", 36);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(79, \"div\", 39);\n        i0.ɵɵelementStart(80, \"button\", 40);\n        i0.ɵɵtext(81);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(82, \"div\", 41);\n        i0.ɵɵelement(83, \"div\", 42);\n        i0.ɵɵelement(84, \"app-navigation-footer\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(24);\n        i0.ɵɵtextInterpolate1(\"\", ctx.apiCategory, \" Keys\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.apikeysDetailsForm);\n        i0.ɵɵadvance(12);\n        i0.ɵɵtextInterpolate(ctx.apiKeyMessage);\n        i0.ɵɵadvance(11);\n        i0.ɵɵtextInterpolate(ctx.authKeyMessage);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"formGroup\", ctx.webhookDetailsForm);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.webhookDetailsForm.controls[\"successURL\"].hasError(\"required\") && ctx.webhookDetailsForm.controls[\"successURL\"].touched);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.webhookDetailsForm.controls[\"failureURL\"].hasError(\"required\") && ctx.webhookDetailsForm.controls[\"failureURL\"].touched);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.webhookDetailsForm.invalid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Loading, please wait...\" : \"Save Record\", \" \");\n      }\n    },\n    directives: [i6.NavigationMenuComponent, i7.NavigationHeaderComponent, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i8.NgIf, i9.NavigationFooterComponent],\n    styles: [\".margin-0[_ngcontent-%COMP%]{margin:0}.padding-0[_ngcontent-%COMP%]{padding:0}.padding-top[_ngcontent-%COMP%]{padding:7px}.padding-bottom-7[_ngcontent-%COMP%]{padding:7px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:24px}button[_ngcontent-%COMP%]{font-weight:bold;margin-left:5px;padding:16px}input[readonly][_ngcontent-%COMP%]{background-color:#fff}.form-control-position[_ngcontent-%COMP%]{padding-top:8px}\"]\n  });\n  return ApiWebhookDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}