{"ast":null,"code":"import _classCallCheck from \"C:/Users/syntoid/Documents/me/bare/g/Gust%20V2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/syntoid/Documents/me/bare/g/Gust%20V2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { HttpClient } from '@angular/common/http';\nimport { ApiService } from \"../core/api.service\";\nimport { Router } from \"@angular/router\";\nimport { ToastrService } from \"ngx-toastr\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../core/api.service\";\nimport * as i4 from \"ngx-toastr\";\nexport var LogicReuseable = /*#__PURE__*/(function () {\n  var LogicReuseable = /*#__PURE__*/function () {\n    function LogicReuseable(http, router, apiService, toastr) {\n      _classCallCheck(this, LogicReuseable);\n\n      this.http = http;\n      this.router = router;\n      this.apiService = apiService;\n      this.toastr = toastr;\n      this.merchantDetails = JSON.parse(window.localStorage.getItem(\"merchantDetails\"));\n      console.log(JSON.parse(window.localStorage.getItem(\"merchantDetails\")));\n    }\n\n    _createClass(LogicReuseable, [{\n      key: \"Logout\",\n      value: function Logout() {\n        window.localStorage.removeItem(\"accessToken\");\n        window.localStorage.removeItem(\"merchantDetails\");\n        window.localStorage.removeItem(\"username\");\n\n        if (window.localStorage.getItem('accessToken') === null) {\n          console.log(\"Logged out!\");\n          this.router.navigate(['login']);\n        }\n      }\n      /* To copy Text from Textbox */\n\n    }, {\n      key: \"copyInputMessage\",\n      value: function copyInputMessage(inputElement) {\n        inputElement.select();\n\n        if (document.execCommand('copy') == true) {\n          inputElement.setSelectionRange(0, 0);\n          return true;\n        } else {\n          return false;\n        }\n      }\n      /* To copy any Text */\n\n    }, {\n      key: \"copyText\",\n      value: function copyText(val) {\n        var selBox = document.createElement('textarea');\n        selBox.style.position = 'fixed';\n        selBox.style.left = '0';\n        selBox.style.top = '0';\n        selBox.style.opacity = '0';\n        selBox.value = val;\n        document.body.appendChild(selBox);\n        selBox.focus();\n        selBox.select();\n        document.execCommand('copy');\n        document.body.removeChild(selBox);\n      }\n    }, {\n      key: \"getSuccessNotification\",\n      value: function getSuccessNotification(successMessage) {\n        this.toastr.success(successMessage, 'Success');\n      }\n    }, {\n      key: \"getErrorNotification\",\n      value: function getErrorNotification(errorMessage) {\n        this.toastr.error(errorMessage, 'Error');\n      }\n    }, {\n      key: \"getMerchantUserDetails\",\n      value: function getMerchantUserDetails() {\n        // load the merchant data here\n        var merchantDetailsPayload = {};\n        var Form = JSON.stringify(merchantDetailsPayload);\n        this.apiService.getMerchantUserDetails(Form).subscribe(function (merchant_data) {\n          // debugger;\n          var res = JSON.stringify(merchant_data);\n          console.log(res);\n          window.localStorage.setItem(\"merchantDetails\", res);\n        });\n      }\n    }, {\n      key: \"getFirstName\",\n      value: function getFirstName() {\n        if (this.merchantDetails !== null) {\n          if (this.merchantDetails[0].FirstName == null) {\n            return this.getEmailAddress().substring(0, this.getEmailAddress().lastIndexOf(\"@\"));\n          } else {\n            return this.merchantDetails[0].FirstName;\n          }\n        }\n      }\n    }, {\n      key: \"getLastName\",\n      value: function getLastName() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].LastName;\n        }\n      }\n    }, {\n      key: \"getFullName\",\n      value: function getFullName() {\n        if (this.getLastName() == null) {\n          return this.getFirstName();\n        } else {\n          return this.getFirstName() + ' ' + this.getLastName();\n        }\n      }\n    }, {\n      key: \"getPhoneNumber\",\n      value: function getPhoneNumber() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].PhoneNumber;\n        }\n      }\n    }, {\n      key: \"getEmailAddress\",\n      value: function getEmailAddress() {\n        if (this.merchantDetails !== null) {\n          return window.localStorage.getItem(\"username\");\n        }\n      }\n    }, {\n      key: \"getBusinessName\",\n      value: function getBusinessName() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].BusinessName;\n        }\n      }\n    }, {\n      key: \"getIsLive\",\n      value: function getIsLive() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].IsLive;\n        }\n      }\n    }, {\n      key: \"getBVN\",\n      value: function getBVN() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].BVN;\n        }\n      }\n    }, {\n      key: \"getBusinessPhoneNumber\",\n      value: function getBusinessPhoneNumber() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].BussinessPhoneNumber;\n        }\n      }\n    }, {\n      key: \"getBusinessDescription\",\n      value: function getBusinessDescription() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].BussinessDescription;\n        }\n      }\n    }, {\n      key: \"getBusinessAddress\",\n      value: function getBusinessAddress() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].BussinessAddress;\n        }\n      }\n    }, {\n      key: \"getPackageId\",\n      value: function getPackageId() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].PackageId;\n        }\n      }\n    }, {\n      key: \"getPackage\",\n      value: function getPackage() {\n        if (this.merchantDetails !== null) {\n          if (this.getPackageId() == 1) {\n            return \"Starter\";\n          }\n\n          if (this.getPackageId() == 2) {\n            return \"Enterprise\";\n          }\n        }\n      }\n    }, {\n      key: \"getCompanyRegistrationNumber\",\n      value: function getCompanyRegistrationNumber() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].CompanyRegistrationNumber;\n        }\n      }\n    }, {\n      key: \"getBankAccountNumber\",\n      value: function getBankAccountNumber() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].BankAccountNumber;\n        }\n      }\n    }, {\n      key: \"getBankName\",\n      value: function getBankName() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].BankName;\n        }\n      }\n    }, {\n      key: \"getSortCode\",\n      value: function getSortCode() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].SortCode;\n        }\n      }\n    }, {\n      key: \"getAccountName\",\n      value: function getAccountName() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].AccountName;\n        }\n      }\n    }, {\n      key: \"getDateOfBirth\",\n      value: function getDateOfBirth() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].DateOfBirth;\n        }\n      }\n    }, {\n      key: \"getSuccessWebhook\",\n      value: function getSuccessWebhook() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].SuccessWebhook;\n        }\n      }\n    }, {\n      key: \"getFailureWebhook\",\n      value: function getFailureWebhook() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].FailureWebhook;\n        }\n      }\n    }, {\n      key: \"getDemoApiKey\",\n      value: function getDemoApiKey() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].DemoApiKey;\n        }\n      }\n    }, {\n      key: \"getDemoAuthKey\",\n      value: function getDemoAuthKey() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].DemoAuthKey;\n        }\n      }\n    }, {\n      key: \"getLiveApiKey\",\n      value: function getLiveApiKey() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].LiveApiKey;\n        }\n      }\n    }, {\n      key: \"getLiveAuthKey\",\n      value: function getLiveAuthKey() {\n        if (this.merchantDetails !== null) {\n          return this.merchantDetails[0].LiveAuthKey;\n        }\n      }\n    }]);\n\n    return LogicReuseable;\n  }();\n\n  LogicReuseable.ɵfac = function LogicReuseable_Factory(t) {\n    return new (t || LogicReuseable)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.ApiService), i0.ɵɵinject(i4.ToastrService));\n  };\n\n  LogicReuseable.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: LogicReuseable,\n    factory: LogicReuseable.ɵfac,\n    providedIn: 'root'\n  });\n  return LogicReuseable;\n})();","map":null,"metadata":{},"sourceType":"module"}